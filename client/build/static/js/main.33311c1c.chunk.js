(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){},154:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(36),i=a.n(l),s=a(3),c=a(4),u=a(6),o=a(5),m=a(7),d=a(164),h=a(167),p=a(166),v=a(165),E=a(15),b=a.n(E),g=a(21),k=a(59),y=function(){function e(){Object(s.a)(this,e),this.auth0=new k.a.WebAuth({domain:"marine-plastics-coi.auth0.com",clientID:"Ikbt_LOw9Wl52GlPY42F_l0Ifl_-pf19",redirectUri:"http://localhost:3000/home",audience:"https://marine-plastics-coi.auth0.com/userinfo",responseType:"token id_token",scope:"openid email profile"}),this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.handleAuthentication=this.handleAuthentication.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this),this.getAccessToken=this.getAccessToken.bind(this),this.getProfile=this.getProfile.bind(this),this.getLoggedInProfile=this.getLoggedInProfile.bind(this)}return Object(c.a)(e,[{key:"login",value:function(){var e=Object(g.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth0.authorize();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleAuthentication",value:function(e){var t=this;this.auth0.parseHash(function(a,n){n&&n.accessToken&&n.idToken?(t.setSession(n),window.location.replace("/home")):a&&e(a.errorDescription)})}},{key:"setSession",value:function(e){var t=JSON.stringify(1e3*e.expiresIn+(new Date).getTime());localStorage.setItem("access_token",e.accessToken),localStorage.setItem("id_token",e.idToken),localStorage.setItem("expires_at",t)}},{key:"getAccessToken",value:function(){var e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");return e}},{key:"getProfile",value:function(e,t){var a=this;this.auth0.client.userInfo(e,function(e,n){n&&(a.userProfile=n),t(e,n)})}},{key:"getLoggedInProfile",value:function(e){this.getProfile(this.getAccessToken(),e)}},{key:"logout",value:function(){localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at");var e=encodeURIComponent("http://localhost:3000");window.location.replace("https://marine-plastics-coi.auth0.com/v2/logout?returnTo="+e+"&client_id=Ikbt_LOw9Wl52GlPY42F_l0Ifl_-pf19")}},{key:"isAuthenticated",value:function(){if("undefined"===typeof localStorage)return!1;var e=JSON.parse(localStorage.getItem("expires_at"));return(new Date).getTime()<e}}]),e}(),f=a(163),S=a(60),N=a.n(S);a(71);var D=function(e){var t={backgroundImage:"url(".concat(N.a,")"),height:"100vh"};return r.a.createElement("div",{className:"uk-width-1-1 uk-flex uk-flex-row"},r.a.createElement("div",{className:"uk-width-1-3 uk-background uk-background-cover",style:t}),r.a.createElement("div",{className:"uk-width-2-3 uk-padding-large info"},r.a.createElement("div",{className:"uk-flex uk-flex-middle uk-flex-column"},r.a.createElement("div",{id:"header-text"},"Welcome to the Marine Plastics Monitor."),r.a.createElement("div",{className:"uk-flex uk-flex-column intro-text"},r.a.createElement("p",null,"Marine debris is one of the top three concerns for ocean health today and is only getting worse because of the rapid rate at which plastic products are made. The impacts of debris in the environment are devastating, but anyone can help reduce the damage by participating in or leading beach cleanups."),r.a.createElement("p",null,"Beyond beach cleanups, marine debris monitoring programs are necessary to compare debris sources, amounts, locations, and movement internationally. This data can be used to influence policy and provide insight into where problem areas are."),r.a.createElement("p",null,"To combine the power of beach cleanups and marine debris monitoring, we have developed a standardized protocols to gather data from beach cleanups and ways to analyze the differences in debris between regions and over time.")),r.a.createElement("div",{className:"uk-flex uk-flex-column uk-padding"},e.auth.isAuthenticated()?null:r.a.createElement("button",{className:"uk-button uk-button-primary uk-button-large sign-up-button",onClick:e.auth.login},"Sign Up"),r.a.createElement(f.a,{className:"uk-button uk-button-default uk-button-large guest-button",to:"/home"},e.auth.isAuthenticated()?"Continue":"Continue as Guest")))),e.isAuth?r.a.createElement("div",{className:"uk-alert-primary",style:{borderRadius:"10px",padding:"5px",display:"inline-block",height:"content",width:"content",position:"absolute",top:"20%",left:"50%",transform:"translateX(-50%)"}},e.isAuth,r.a.createElement("button",{style:{margin:"5px"},onClick:function(t){e.disableError()}},"OK")):null)},w=a(1),C=a(9),O=a.n(C),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).handleAccordionClick=function(e){0!==a.state.surveys.length||a.state.clicked||a.getSurveysFromBeach();var t=e.target.parentElement,n=e.target.nextSibling;e.target.classList.contains("uk-text-muted")&&(t=e.target.parentElement.parentElement,n=e.target.parentElement.nextSibling),t.classList.contains("uk-open")?(t.classList.remove("uk-open"),n.style.display="none"):(t.classList.add("uk-open"),n.style.display="block")},a.state={surveys:[],clicked:!1},a.getSurveysFromBeach=a.getSurveysFromBeach.bind(Object(w.a)(Object(w.a)(a))),a.createHTMLForEntries=a.createHTMLForEntries.bind(Object(w.a)(Object(w.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getSurveysFromBeach",value:function(){var e=this;this.setState({clicked:!0});var t=this.props.location._id;O.a.get("/beaches/"+t).then(function(t){for(var a=Object.keys(t.data),n=0;n<a.length;n++){var r=a[n],l=t.data[r];e.createHTMLForEntries(r,l)}}).catch(function(e){console.log(e)})}},{key:"createHTMLForEntries",value:function(e,t){var a,n=this,l=t.survey,i=[];i.push(O.a.get("/beaches/surveys/".concat(l,"/date"))),O.a.all(i).then(function(e){e.map(function(e){return a=new Date(e.data)})}).then(function(){var e=n.state.surveys;e.push(r.a.createElement("li",{key:"entry-".concat(l)},r.a.createElement(f.a,{className:"uk-link-muted",to:{pathname:"/surveys/".concat(l.replace(" ","-")),state:{beachName:n.props.location.n,surveyID:l,info:n.props.location,userProfile:n.props.userProfile}}},a.toLocaleDateString()))),n.setState({surveys:e})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body uk-margin "},r.a.createElement("div",null,r.a.createElement("ul",{className:"uk-accordion uk-margin-remove-bottom"},r.a.createElement("li",null,r.a.createElement("span",{className:"survey-bar uk-accordion-title uk-margin-remove-bottom",onClick:this.handleAccordionClick},r.a.createElement(f.a,{to:{pathname:"/location/".concat(this.props.path),state:{data:this.props.location,userProfile:this.props.userProfile}},style:{textDecoration:"none",color:"black"}},this.props.location.n),r.a.createElement("span",{className:"uk-text-muted uk-text-small uk-margin-remove-bottom"},this.props.location._numOfSurveys," ",this.props.entryString)),r.a.createElement("div",{className:"uk-accordion-content",style:{display:"none"}},r.a.createElement("p",null,r.a.createElement(f.a,{to:{pathname:"/location/".concat(this.props.path),state:{data:this.props.location,userProfile:this.props.userProfile}}},"Go to location page")),r.a.createElement("ul",{className:"uk-list uk-list-bullet uk-padding-remove-left"},this.state.surveys.length>0?this.state.surveys:"Loading surveys..."))))))}}]),t}(n.Component),j=a(29),x=a.n(j),R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={displayText:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.$hover?"custom-marker-hover":"custom-marker",t=this.props.$hover?this.props.text:"",a=this.props.$hover?"tooltiptext":"",n=this.props.text.replace(/\s/g,"");return r.a.createElement("div",null,r.a.createElement(f.a,{className:e,to:{pathname:"/location/".concat(n),state:{data:this.props.location,userProfile:this.props.userProfile}}},r.a.createElement("span",{className:a},t)))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={data:[]},a.loadCommentsFromServer=a.loadCommentsFromServer.bind(Object(w.a)(Object(w.a)(a))),a.pollInterval=null,a.url="/beaches",a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"loadCommentsFromServer",value:function(){var e=this;O.a.get(this.url+"/map").then(function(t){e.setState({data:t.data})})}},{key:"componentDidMount",value:function(){this.pollInterval||(this.pollInterval=setInterval(this.loadCommentsFromServer,2e3))}},{key:"componentWillUnmount",value:function(){this.pollInterval&&clearInterval(this.pollInterval),this.pollInterval=null}},{key:"render",value:function(){var e=this,t=this.state.data.map(function(t){return t.lat&&t.lon?r.a.createElement(R,{key:t._id,lat:t.lat,lng:t.lon,text:t.n,location:t,userProfile:e.props.userProfile,$hover:!0}):null});return r.a.createElement("div",{id:"mapView"},r.a.createElement(x.a,{defaultCenter:this.props.center,defaultZoom:this.props.zoom,bootstrapURLKeys:{key:["AIzaSyC0KMFMCzYY0TZKQSSGyJ7gDW6dfBIDIDA"]}},t))}}]),t}(n.Component);A.defaultProps={center:{lat:36.965652,lng:-121.954729},zoom:13};var I=A;function _(e){return e.sort(function(e,t){return e.n<t.n?-1:e.n>t.n?1:0}),e}a(111);var P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).showEntries=function(e){var t=a.state,n=t.loaded,l=t.error;return n&&!l?e.length<1?r.a.createElement("div",null,"No Entries"):e:r.a.createElement("span",{className:l?"err":"loader"},r.a.createElement("span",null,l?"Something went wrong!":""),r.a.createElement("span",null),r.a.createElement("span",null))},a.state={data:[],rawData:[],searchResult:[],filter:"mod",loaded:!1,error:!1,beaches:[],surveys:[],view:"split"},a.styleMain=a.styleMain.bind(Object(w.a)(Object(w.a)(a))),a.loadBeaches=a.loadBeaches.bind(Object(w.a)(Object(w.a)(a))),a.handleSearch=a.handleSearch.bind(Object(w.a)(Object(w.a)(a))),a.handleSearchChange=a.handleSearchChange.bind(Object(w.a)(Object(w.a)(a))),a.getTotalDebris=a.getTotalDebris.bind(Object(w.a)(Object(w.a)(a))),a.handleViewTypeChange=a.handleViewTypeChange.bind(Object(w.a)(Object(w.a)(a))),a.handleFilterChange=a.handleFilterChange.bind(Object(w.a)(Object(w.a)(a))),a.changeFilter=a.changeFilter.bind(Object(w.a)(Object(w.a)(a))),a.url="/beaches",a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"loadBeaches",value:function(){var e=this;O.a.get(this.url).then(function(t){e.setState({beaches:t.data,loaded:!0})}).catch(function(t){e.setState({loaded:!0,error:!0})})}},{key:"handleViewTypeChange",value:function(){var e=Object(g.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({view:t.target.value});case 2:a=document.getElementById("mainContainer"),"list"===this.state.view&&(a.classList.add("list-view"),a.classList.remove("map-view"),a.classList.remove("split-view")),"map"===this.state.view&&(a.classList.add("map-view"),a.classList.remove("list-view"),a.classList.remove("split-view")),"split"===this.state.view&&(a.classList.remove("list-view"),a.classList.remove("split-view"),a.classList.add("split-view"));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleFilterChange",value:function(){var e=Object(g.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,e.next=3,this.setState({filter:a});case 3:this.changeFilter();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"changeFilter",value:function(){var e=Object(g.a)(b.a.mark(function e(){var t,a,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("mod"!==(t=this.state.filter)){e.next=8;break}return e.next=4,(r=this.state.beaches).sort(function(e,t){return(e=new Date(e.lastMod).getTime())<(t=new Date(t.lastMod).getTime())?1:e>t?-1:0}),r;case 4:a=e.sent,this.setState({beaches:a}),e.next=13;break;case 8:if("beach"!==t){e.next=13;break}return e.next=11,_(this.state.beaches);case 11:n=e.sent,this.setState({beaches:n});case 13:case"end":return e.stop()}var r},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSearchChange",value:function(e){this.handleSearch(e.target.value,this.state.filter)}},{key:"handleSearch",value:function(e){var t=this;O.a.get("/beaches/search",{params:{q:e}}).then(function(e){t.setState({beaches:e.data}),t.changeFilter()}).catch(function(e){console.log(e)})}},{key:"getTotalDebris",value:function(){var e=this;O.a.get(this.url+"/allstats").then(function(t){for(var a=t.data,n=0,r=0;r<a.length;r++){var l=a[r].stats.TODF;for(var i in l)n+=l[i]}e.setState({totalWeight:n})})}},{key:"styleMain",value:function(){var e=document.getElementById("mainContainer"),t=e.offsetTop,a=document.documentElement.clientHeight-t;e.style.height=a+"px"}},{key:"componentDidMount",value:function(){this.styleMain(),this.loadBeaches(),this.getTotalDebris()}},{key:"render",value:function(){var e=this,t=this.state.beaches.map(function(t,a){var n=t.n.replace(" ",""),l=t.numOfSurveys>1?"Entries":"Entry";return r.a.createElement(T,{key:a,location:t,path:n,entryString:l,userProfile:e.props.userProfile})});return r.a.createElement("div",{className:"uk-align-center"},r.a.createElement("div",{className:"uk-align-center uk-width-4-5"},r.a.createElement("form",{className:"uk-grid uk-grid-small"},r.a.createElement("div",{className:"uk-width-3-5"},r.a.createElement("input",{className:"uk-input uk-form",id:"searchBar",type:"search",onChange:this.handleSearchChange,placeholder:"Search..."})),r.a.createElement("div",{className:"uk-width-1-5"},r.a.createElement("select",{className:"uk-select uk-form",id:"type",onChange:this.handleFilterChange},r.a.createElement("option",{value:"mod"},"Last Modified"),r.a.createElement("option",{value:"beach"},"Beach Name"))),r.a.createElement("div",{className:"uk-width-1-5"},r.a.createElement("select",{className:"uk-select uk-form",id:"view-type",onChange:this.handleViewTypeChange},r.a.createElement("option",{value:"split"},"List and Map"),r.a.createElement("option",{value:"list"},"List"),r.a.createElement("option",{value:"map"},"Map"))))),r.a.createElement("div",{id:"mainContainer",className:"split-view uk-align-center"},"list"===this.state.view?r.a.createElement("div",{id:"locations",className:"uk-background-muted uk-padding",style:t.length>1?{overflowY:"scroll"}:null},this.showEntries(t)):null,"map"===this.state.view?r.a.createElement(I,{userProfile:this.props.userProfile}):null,"split"===this.state.view?r.a.createElement("div",{className:"uk-flex uk-flex-row uk-margin"},r.a.createElement("div",{className:"uk-width-1-3"},r.a.createElement("div",{id:"locations",className:"uk-background-muted uk-padding uk-height-expand","data-uk-height-viewport":"offset-top: true",style:t.length>1?{overflowY:"scroll"}:null},this.showEntries(t))),r.a.createElement("div",{className:"uk-width-2-3"},r.a.createElement(I,{userProfile:this.props.userProfile}))):null))}}]),t}(n.Component);function L(e,t){var a={},n=(new Date(0),t?"SRSDebris":"ASDebris");for(var r in e){var l=e[r][n],i=new Date(e[r].survDate).toLocaleDateString();for(var s in l){var c=l[s];a.hasOwnProperty(i)?a[i]+=c.weathered+c.fresh:a[i]=c.weathered+c.fresh}}return a}var B=a(23),F=a(30);B.c.addAdapter(F.Chart);n.Component;var M=function(e){var t=e.chartData;return r.a.createElement(B.b,{id:"pieChart",data:t,legend:"right",library:{animation:{animateRotate:!0},responsive:!0},height:"370px",width:"450px"})},U={cigaretteButts:"Cigarette Butts",fishingLineRope:"Fishing Line / Polypropylene Rope",plasticCups:"Plastic Cups",plasticStraws:"Plastic Straws",filmedPlastic:"Filmed Plastic",miscPlastic:"Misc. Plastic",plasticBottlesCaps:"Plastic Bottles / Plastic Caps",styrofoam:"Styrofoam",woodPaper:"Wood / Paper",foodOrganic:"Food / Organic",urethaneFoam:"Urethane Foam",metal:"Metal",glass:"Glass",cottonCloth:"Cotton / Cloth",aluminumCans:"Aluminum Cans",hygieneItems:"Hygiene Items",tileBrick:"Tile / Brick",misc:"Misc. (general)"};function V(e){return U[e]}function W(){return U}var H=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.name),r.a.createElement("td",null,this.props.fresh),r.a.createElement("td",null,this.props.weathered))}}]),t}(n.Component),z=(a(154),W()),q=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).getSurvey=function(){var e;e=a.state.userProfile?a.state.userProfile.sub.split("|")[1]:"",O.a.get("/beaches/surveys/".concat(a.state.surveyID),{params:{userID:e}}).then(function(e){a.setState({surveyData:e.data.survData,editable:e.data.e})}).catch(function(e){console.log(e)}).then(function(){a.getChartData()}).then(function(){a.getBeachInfo()})},a.getBeachInfo=function(){O.a.get("/beaches/".concat(a.state.surveyData.bID,"/info")).then(function(e){a.setState({info:e.data})})},a.getChartData=function(){if(a.state.surveyData.SRSDebris){var e={};for(var t in a.state.surveyData.SRSDebris){var n=a.state.surveyData.SRSDebris[t].fresh+a.state.surveyData.SRSDebris[t].weathered;e[t]=n}var r=Object.keys(e),l={};for(var i in r.sort(function(t,a){return e[t]-e[a]}),r){var s=r[i],c=z[s];"Fishing Line / Polypropylene Rope"===c&&(c="Fishing Line"),"Plastic Bottles / Plastic Caps"===c&&(c="Plastic Bottles"),l[c]=e[s]}a.setState({chartDataSRS:l})}else a.setState({srsSelected:!1});if(a.state.surveyData.ASDebris){var u={};for(var o in a.state.surveyData.ASDebris){var m=a.state.surveyData.ASDebris[o].fresh+a.state.surveyData.ASDebris[o].weathered;u[o]=m}var d=Object.keys(u),h={};for(var p in d.sort(function(e,t){return u[e]-u[t]}),d){var v=d[p],E=z[v];"Fishing Line / Polypropylene Rope"===E&&(E="Fishing Line"),"Plastic Bottles / Plastic Caps"===E&&(E="Plastic Bottles"),h[E]=u[v]}a.setState({chartDataAS:h})}else a.state.surveyData.SRSDebris||a.state.surveyData.ASDebris||a.setState({debrisNA:!0})},a.deleteSurvey=function(){O.a.delete("/beaches/surveys/".concat(a.state.surveyID),{params:{bID:a.state.surveyData.bID,dos:a.state.surveyData.survDate,userID:a.state.userProfile?a.state.userProfile.sub:""}}).then(function(e){a.setState({deletedComment:!0}),document.getElementById("closeModalButton").click(),alert("Survey deleted successfully.")}).catch(function(e){console.log(e)})},a.editSurvey=function(){O.a.get("/beaches/surveys/".concat(a.state.surveyID,"/edit"),{params:{id:a.state.userProfile?a.state.userProfile:""}}).then(function(e){a.setState({editSurvey:!0})})},a.editBtns=function(){return r.a.createElement(r.a.Fragment,null,a.state.editable?r.a.createElement("div",{className:"uk-flex uk-flex-row"},r.a.createElement("button",{className:"uk-button button-active uk-margin-right",onClick:a.editSurvey},"Edit Survey"),r.a.createElement("button",{className:"uk-button button-active","data-uk-toggle":"target: #modal"},"Delete Survey")):r.a.createElement("div",{className:"uk-flex uk-flex-row"},r.a.createElement("button",{className:"uk-button button-disabled uk-margin-right","data-uk-toggle":"target: #modal"},"Edit Survey"),r.a.createElement("button",{className:"uk-button button-disabled","data-uk-toggle":"target: #modal",id:"delete"},"Delete Survey")),r.a.createElement("div",{id:"modal","data-uk-modal":!0},r.a.createElement("div",{className:"uk-modal-dialog uk-modal-body"},a.state.editable?r.a.createElement("div",null,r.a.createElement("h2",null,"Are you sure you want to delete this survey?"),r.a.createElement("p",null,"This action cannot be undone.")):r.a.createElement("div",null,r.a.createElement("h2",null,"You do not have permission to make changes to this survey."),r.a.createElement("p",null,"You may only edit or delete a survey if you created it and are logged in.")),r.a.createElement("p",{className:"uk-text-right"},a.state.editable?r.a.createElement("div",null,r.a.createElement("button",{className:"uk-button uk-button-danger uk-margin-left",onClick:a.deleteSurvey},"Delete"),r.a.createElement("button",{className:"uk-button uk-button-default uk-modal-close"},"Cancel")):null),r.a.createElement("button",{id:"closeModalButton",className:"uk-modal-close-default","data-uk-close":!0}))))};var n=e.match.params.surveyID;return a.state={beachName:a.props.location.state.beachName,info:a.props.location.state.info,surveyID:n,surveyData:{},userProfile:a.props.location.state.userProfile,deletedComment:!1,srsSelected:!0,debrisNA:!1,editSurvey:!1,editable:!1},a.handleChartTypeChange=a.handleChartTypeChange.bind(Object(w.a)(Object(w.a)(a))),a.renderOptions=a.renderOptions.bind(Object(w.a)(Object(w.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderOptions",value:function(){return this.state.surveyData.SRSDebris&&this.state.surveyData.ASDebris?r.a.createElement("select",{className:"uk-select uk-form",id:"view-type",onChange:this.handleChartTypeChange},r.a.createElement("option",{value:"srs"},"Suface Rib Scan"),r.a.createElement("option",{value:"as"},"Accumulation Sweep")):this.state.surveyData.SRSDebris?r.a.createElement("h3",null,"Surface Rib Scan"):this.state.surveyData.ASDebris?r.a.createElement("h3",null,"Accumulation Sweep"):r.a.createElement("h3",null,"Debris total not available")}},{key:"handleChartTypeChange",value:function(){var e=Object(g.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({view:t.target.value});case 2:"srs"===this.state.view?this.setState({srsSelected:!0}):this.setState({srsSelected:!1});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getSurvey()}},{key:"render",value:function(){if(this.state.deletedComment)return r.a.createElement(v.a,{to:"/home"});if(this.state.editSurvey)return r.a.createElement(v.a,{to:"/survey"});var e=[],t=[];if(this.state.surveyData.SRSDebris){var a=this.state.surveyData,n=a.SRSDebris,l=a.ASDebris;for(var i in n){var s=n[i];e.push(r.a.createElement(H,{key:i,name:z[i],fresh:s.fresh,weathered:s.weathered}))}for(var c in l){var u=l[c];t.push(r.a.createElement(H,{key:c,name:z[c],fresh:u.fresh,weathered:u.weathered}))}document.getElementById("SRS-section").style.display=this.state.surveyData.SRSDebris?"block":"none",document.getElementById("AS-section").style.display=this.state.surveyData.ASDebris?"block":"none"}return(this.state.surveyData.weight||this.state.surveyData.numOfP)&&(document.getElementById("b-cleanup-section").style.display="block"),(this.state.surveyData.lat||this.state.surveyData.lon||this.state.surveyData.reason||this.state.surveyData.st||this.state.surveyData.slope||this.state.surveyData.aspect||this.state.surveyData.majorUse||this.state.surveyData.lastTide||this.state.surveyData.nextTide||this.state.surveyData.nroDist||this.state.surveyData.nroName||this.state.surveyData.windDir)&&(document.getElementById("survey-area-section").style.display="block"),(this.state.surveyData.lastTide||this.state.surveyData.nextTide)&&(document.getElementById("tide-section").style.display="block"),r.a.createElement("div",{className:"uk-container"},r.a.createElement("h2",{className:"uk-text-primary uk-heading-primary"},r.a.createElement(f.a,{to:{pathname:"/location/".concat(this.state.beachName.replace(/\s/g,"")),state:{data:this.props.location.state.info,userProfile:this.state.userProfile}}},this.state.beachName),r.a.createElement("span",{className:"uk-text-muted uk-text-large uk-margin-left"},new Date(this.state.surveyData.survDate).toLocaleDateString())),r.a.createElement("div",{"data-uk-grid":"masonry: true",className:"uk-grid uk-grid-large uk-grid-match uk-width-1 uk-child-width-1-2"},r.a.createElement("div",null,r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},r.a.createElement("h3",{className:"uk-card-title"},"Team Information"),r.a.createElement("p",null,r.a.createElement("strong",null,"Team Leader:")," ",this.state.surveyData.user?this.state.surveyData.user.f+" "+this.state.surveyData.user.l:""),r.a.createElement("p",null,r.a.createElement("strong",null,"Organization:")," ",this.state.surveyData.org),r.a.createElement("p",null,r.a.createElement("strong",null,"Email:")," ",this.state.surveyData.email))),r.a.createElement("div",{id:"b-cleanup-section"},r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},r.a.createElement("h3",{className:"uk-card-title"},"Basic Clean Up"),0!==this.state.surveyData.numOfP?r.a.createElement("p",null,r.a.createElement("strong",null,"Number of People:")," ",this.state.surveyData.numOfP):null,this.state.surveyData.weight?r.a.createElement("p",null,r.a.createElement("strong",null,"Total Weight:")," ",this.state.surveyData.weight):null)),r.a.createElement("div",{id:"survey-area-section",style:{display:"none"}},r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},r.a.createElement("h3",{className:"uk-card-title"},"Survey Area"),this.state.info.lat&&this.state.info.lon?r.a.createElement("p",null,r.a.createElement("strong",null,"GPS Coordinates:")," ",this.state.info.lat,", ",this.state.info.lon):null,this.state.surveyData.reason?r.a.createElement("p",null,r.a.createElement("strong",null,"Reason for Location Choice: "),this.state.surveyData.reason.prox?"Proximity":this.state.surveyData.reason.debris?"Debris":this.state.surveyData.reason.other):null,this.state.surveyData.majorUse?r.a.createElement("p",null,r.a.createElement("strong",null,"Major Use: "),this.state.surveyData.majorUse.rec?"Recreation":this.state.surveyData.majorUse.com?"Commercial":this.state.surveyData.majorUse.other):null,this.state.surveyData.st?r.a.createElement("p",null,r.a.createElement("strong",null,"Substrate Type: "),this.state.surveyData.st.s?"Sand":this.state.surveyData.st.p?"Pebbles":this.state.surveyData.st.rr?"Rip rap":this.state.surveyData.st.sea?"Seaweed":this.state.surveyData.st.other):null,this.state.surveyData.slope?r.a.createElement("p",null,r.a.createElement("strong",null,"Beach Slope:")," ",this.state.surveyData.slope):null,this.state.surveyData.aspect?r.a.createElement("p",null,r.a.createElement("strong",null,"Beach Aspect:")," ",this.state.surveyData.aspect):null,this.state.surveyData.wind?r.a.createElement("p",null,r.a.createElement("strong",null,"Wind Direction: ")," ",this.state.surveyData.wind.dir):null,this.state.surveyData.wind?r.a.createElement("p",null,r.a.createElement("strong",null,"Wind Speed: ")," ",this.state.surveyData.wind.spd," knots"):null,this.state.info.nroName?r.a.createElement("p",null,r.a.createElement("strong",null,"Nearest River:")," ",this.state.info.nroName):null,this.state.info.nroDist?r.a.createElement("p",null,r.a.createElement("strong",null,"Distance to Nearest River:")," ",this.state.info.nroDist,"mi"):null,this.state.surveyData.cmpsDir?r.a.createElement("p",null,r.a.createElement("strong",null,"Compass Direction:")," ",this.state.surveyData.cmpsDir," Degrees"):null)),r.a.createElement("div",{id:"SRS-section",style:{display:"none"}},r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},r.a.createElement("h3",null,"Surface Rib Scan Survey"),r.a.createElement("table",{className:"uk-table uk-table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Debris Type"),r.a.createElement("th",null,"Amount Fresh"),r.a.createElement("th",null,"Amount Weathered"))),r.a.createElement("tbody",null,e)))),r.a.createElement("div",{id:"tide-section",style:{display:"none"}},r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body uk-margin-bottom"},r.a.createElement("h3",{className:"uk-card-title"},"Tide Information"),r.a.createElement("h4",null,"The Last Tide"),r.a.createElement("div",null,this.state.surveyData.lastTide?r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Type:")," ",this.state.surveyData.lastTide.type),r.a.createElement("p",null,r.a.createElement("strong",null,"Time:")," ",this.state.surveyData.lastTide.time),r.a.createElement("p",null,r.a.createElement("strong",null,"Height:")," ",this.state.surveyData.lastTide.height)):null),r.a.createElement("h4",null,"The Next Tide"),r.a.createElement("div",null,this.state.surveyData.nextTide?r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Type:")," ",this.state.surveyData.nextTide.type),r.a.createElement("p",null,r.a.createElement("strong",null,"Time:")," ",this.state.surveyData.nextTide.time),r.a.createElement("p",null,r.a.createElement("strong",null,"Height:")," ",this.state.surveyData.nextTide.height)):null))),r.a.createElement("div",{id:"AS-section",style:{display:"none"}},r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body uk-margin-bottom"},r.a.createElement("h3",null,"Accumulation Survey"),r.a.createElement("table",{className:"uk-table uk-table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Debris Type"),r.a.createElement("th",null,"Amount Fresh"),r.a.createElement("th",null,"Amount Weathered"))),r.a.createElement("tbody",null,t))))),r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body uk-margin-bottom"},r.a.createElement("h2",null,"Debris quantity totals for this survey:"),r.a.createElement("div",{className:"uk-width-1-5"},this.renderOptions()),this.state.debrisNA?null:r.a.createElement(M,{chartData:this.state.srsSelected?this.state.chartDataSRS:this.state.chartDataAS})),this.editBtns())}}]),t}(n.Component),G=a(11),Y=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"uk-grid uk-child-width-1-3"},r.a.createElement("div",null,r.a.createElement("h5",null,this.props.name)),r.a.createElement("div",null,r.a.createElement("input",{type:"number",min:"0",id:this.props.id+"__fresh__accumulation",className:"uk-input",defaultValue:this.props.data[this.props.id+"__fresh__accumulation"],onChange:this.props.updateAS})),r.a.createElement("div",null,r.a.createElement("input",{type:"number",min:"0",id:this.props.id+"__weathered__accumulation",className:"uk-input",defaultValue:this.props.data[this.props.id+"__weathered__accumulation"],onChange:this.props.updateAS})))}}]),t}(n.Component),K=(a(24),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=[];for(var t in W())e.push(r.a.createElement(Y,{key:t,id:t,name:V(t),updateAS:this.props.updateAS,data:this.props.data}));return r.a.createElement(G.AccordionItem,{className:"accordion__item"},r.a.createElement(G.AccordionItemTitle,{className:"accordion__title accordion__title--animated"},r.a.createElement("h2",null,"Accumulation Survey"),r.a.createElement("div",{className:"accordion__arrow",role:"presentation"})),r.a.createElement(G.AccordionItemBody,{className:"accordion__body"},r.a.createElement("div",{className:"uk-grid uk-child-width-1-3"},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("h4",null,"Pieces Fresh")),r.a.createElement("div",null,r.a.createElement("h4",null,"Pieces Weathered"))),e))}}]),t}(n.Component)),J=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(G.AccordionItem,{className:"accordion__item"},r.a.createElement(G.AccordionItemTitle,{className:"accordion__title accordion__title--animated"},r.a.createElement("h2",null,"Micro Debris Survey"),r.a.createElement("div",{className:"accordion__arrow",role:"presentation"})),r.a.createElement(G.AccordionItemBody,{className:"accordion__body"},r.a.createElement("div",{className:"uk-grid uk-child-width-1-3"},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("h4",null,"Fresh Total")),r.a.createElement("div",null,r.a.createElement("h4",null,"Weathered Total"))),r.a.createElement("div",{className:"uk-grid uk-child-width-1-3"},r.a.createElement("div",null,r.a.createElement("h4",null,"Rib #1")),r.a.createElement("div",null,r.a.createElement("input",{type:"number",min:"0",id:"microFreshTotalRib1",value:this.props.data.microFreshTotalRib1,className:"uk-input",onChange:this.props.updateSurveyState})),r.a.createElement("div",null,r.a.createElement("input",{type:"number",min:"0",id:"microWeatheredTotalRib1",className:"uk-input",defaultValue:this.props.data.microWeatheredTotalRib1,onChange:this.props.updateSurveyState}))),r.a.createElement("div",{className:"uk-grid uk-child-width-1-3"},r.a.createElement("div",null,r.a.createElement("h4",null,"Rib #2")),r.a.createElement("div",null,r.a.createElement("input",{type:"number",min:"0",id:"microFreshTotalRib2",defaultValue:this.props.data.microFreshTotalRib2,className:"uk-input",onChange:this.props.updateSurveyState})),r.a.createElement("div",null,r.a.createElement("input",{type:"number",min:"0",id:"microWeatheredTotalRib2",className:"uk-input",defaultValue:this.props.data.microWeatheredTotalRib2,onChange:this.props.updateSurveyState}))),r.a.createElement("div",{className:"uk-grid uk-child-width-1-3"},r.a.createElement("div",null,r.a.createElement("h4",null,"Rib #3")),r.a.createElement("div",null,r.a.createElement("input",{type:"number",min:"0",id:"microFreshTotalRib3",defaultValue:this.props.data.microFreshTotalRib3,className:"uk-input",onChange:this.props.updateSurveyState})),r.a.createElement("div",null,r.a.createElement("input",{type:"number",min:"0",id:"microWeatheredTotalRib3",className:"uk-input",defaultValue:this.props.data.microWeatheredTotalRib3,onChange:this.props.updateSurveyState}))),r.a.createElement("div",{className:"uk-grid uk-child-width-1-3"},r.a.createElement("div",null,r.a.createElement("h4",null,"Rib #4")),r.a.createElement("div",null,r.a.createElement("input",{type:"number",min:"0",id:"microFreshTotalRib4",defaultValue:this.props.data.microFreshTotalRib4,className:"uk-input",onChange:this.props.updateSurveyState})),r.a.createElement("div",null,r.a.createElement("input",{type:"number",min:"0",id:"microWeatheredTotalRib4",className:"uk-input",defaultValue:this.props.data.microWeatheredTotalRib4,onChange:this.props.updateSurveyState})))))}}]),t}(n.Component),$=function(e){return r.a.createElement("div",{className:"uk-grid uk-child-width-1-2"},r.a.createElement("div",null,r.a.createElement("input",{type:"number",min:"0",id:e.id+"__fresh__"+e.ribNumber,className:"uk-input",defaultValue:e.data[e.id+"__fresh__"+e.ribNumber],onChange:e.updateSRS})),r.a.createElement("div",null,r.a.createElement("input",{type:"number",min:"0",id:e.id+"__weathered__"+e.ribNumber,defaultValue:e.data[e.id+"__weathered__"+e.ribNumber],className:"uk-input",onChange:e.updateSRS})))},Z=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"uk-grid uk-child-width-1-5"},r.a.createElement("div",null,r.a.createElement("h5",null,this.props.name)),r.a.createElement("div",null,r.a.createElement($,{ribNumber:"1",id:this.props.id,data:this.props.data,updateSRS:this.props.updateSRS})),r.a.createElement("div",null,r.a.createElement($,{ribNumber:"2",id:this.props.id,data:this.props.data,updateSRS:this.props.updateSRS})),r.a.createElement("div",null,r.a.createElement($,{ribNumber:"3",id:this.props.id,data:this.props.data,updateSRS:this.props.updateSRS})),r.a.createElement("div",null,r.a.createElement($,{ribNumber:"4",id:this.props.id,data:this.props.data,updateSRS:this.props.updateSRS})))}}]),t}(n.Component),Q=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=[];for(var t in W())e.push(r.a.createElement(Z,{key:t,id:t,name:V(t),data:this.props.SRSData,updateSRS:this.props.updateSRS}));return r.a.createElement(G.AccordionItem,{className:"accordion__item"},r.a.createElement(G.AccordionItemTitle,{className:"accordion__title accordion__title--animated"},r.a.createElement("h2",null,"Surface Rib Scan"),r.a.createElement("div",{className:"accordion__arrow",role:"presentation"})),r.a.createElement(G.AccordionItemBody,{className:"accordion__body"},r.a.createElement("div",{className:"uk-grid uk-child-width-1-5"},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("h4",null,"Rib #1")),r.a.createElement("div",null,r.a.createElement("h4",null,"Rib #2")),r.a.createElement("div",null,r.a.createElement("h4",null,"Rib #3")),r.a.createElement("div",null,r.a.createElement("h4",null,"Rib #4"))),r.a.createElement("div",{className:"uk-grid uk-child-width-1-5"},r.a.createElement("div",null,r.a.createElement("h5",null,"Rib Start Point(m)")),r.a.createElement("div",null,r.a.createElement("input",{type:"string",placeholder:"Rib #1 Start",id:"rib1Start",className:"uk-input uk-margin",onChange:this.props.updateSurveyState})),r.a.createElement("div",null,r.a.createElement("input",{type:"string",placeholder:"Rib #2 Start",id:"rib2Start",className:"uk-input uk-margin",onChange:this.props.updateSurveyState})),r.a.createElement("div",null,r.a.createElement("input",{type:"string",placeholder:"Rib #3 Start",id:"rib3Start",className:"uk-input uk-margin",onChange:this.props.updateSurveyState})),r.a.createElement("div",null,r.a.createElement("input",{type:"string",placeholder:"Rib #4 Start",id:"rib4Start",className:"uk-input uk-margin",onChange:this.props.updateSurveyState}))),r.a.createElement("div",{className:"uk-grid uk-child-width-1-5"},r.a.createElement("div",null,r.a.createElement("h5",null,"Rib End Point(m)")),r.a.createElement("div",null,r.a.createElement("input",{type:"string",placeholder:"Rib #1 End",id:"rib1End",className:"uk-input uk-margin",onChange:this.props.updateSurveyState})),r.a.createElement("div",null,r.a.createElement("input",{type:"string",placeholder:"Rib #2 End",id:"rib2End",className:"uk-input uk-margin",onChange:this.props.updateSurveyState})),r.a.createElement("div",null,r.a.createElement("input",{type:"string",placeholder:"Rib #3 End",id:"rib3End",className:"uk-input uk-margin",onChange:this.props.updateSurveyState})),r.a.createElement("div",null,r.a.createElement("input",{type:"string",placeholder:"Rib #4 End",id:"rib4End",className:"uk-input uk-margin",onChange:this.props.updateSurveyState}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"uk-grid data-uk-sticky"},r.a.createElement("div",{className:"uk-width-1-5"}),r.a.createElement("div",{className:"uk-width-1-5"},r.a.createElement("div",{className:"uk-grid"},r.a.createElement("div",{className:"uk-width-1-2"},r.a.createElement("center",null,r.a.createElement("label",null,"Rib #1 Fresh"))),r.a.createElement("div",{className:"uk-width-1-2"},r.a.createElement("center",null,r.a.createElement("label",null,"Rib #1 Weathered"))))),r.a.createElement("div",{className:"uk-width-1-5"},r.a.createElement("div",{className:"uk-grid"},r.a.createElement("div",{className:"uk-width-1-2"},r.a.createElement("center",null,r.a.createElement("label",null,"Rib #2 Fresh"))),r.a.createElement("div",{className:"uk-width-1-2"},r.a.createElement("center",null,r.a.createElement("label",null,"Rib #2 Weathered"))))),r.a.createElement("div",{className:"uk-width-1-5"},r.a.createElement("div",{className:"uk-grid"},r.a.createElement("div",{className:"uk-width-1-2"},r.a.createElement("center",null,r.a.createElement("label",null,"Rib #3 Fresh"))),r.a.createElement("div",{className:"uk-width-1-2"},r.a.createElement("center",null,r.a.createElement("label",null,"Rib #3 Weathered"))))),r.a.createElement("div",{className:"uk-width-1-5"},r.a.createElement("div",{className:"uk-grid"},r.a.createElement("div",{className:"uk-width-1-2"},r.a.createElement("center",null,r.a.createElement("label",null,"Rib #4 Fresh"))),r.a.createElement("div",{className:"uk-width-1-2"},r.a.createElement("center",null,r.a.createElement("label",null,"Rib #4 Weathered")))))),e))}}]),t}(n.Component),X=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={query:"",results:[],timeout:null,showItems:!1},a.getInfo=function(){a.state.query?O.a.get("/beaches/search",{params:{q:a.state.query}}).then(function(e){a.setState({results:e.data.slice(0,4),showItems:!0})}).catch(function(e){console.log(e)}):a.setState({results:[]})},a.handleInputChange=function(){a.props.setSurveyData("beachName",a.search.value),a.props.setSurveyData("beachID",null),a.setState({query:a.search.value}),clearTimeout(a.state.timeout);var e=Object(w.a)(Object(w.a)(a));a.setState({timeout:setTimeout(function(){e.getInfo()},250)})},a.onSuggestionClick=function(e){a.search.value=e.n,a.props.autofill(e._id),a.props.setSurveyData("beachName",e.n),a.props.setSurveyData("beachID",e._id),a.setState({query:e.n,showItems:!1})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("label",null,"Name",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("input",{id:"beachName",className:"uk-input uk-margin",placeholder:"Name of Beach",ref:function(t){return e.search=t},onChange:function(){return e.handleInputChange()}}),this.state.showItems&&this.state.query?r.a.createElement(function(t){var a=t.results.map(function(t){return r.a.createElement("li",{key:t._id},r.a.createElement("button",{className:"uk-button uk-button-default",onClick:function(){return e.onSuggestionClick(t)}},t.n))});return r.a.createElement("div",{style:{display:"block"},"uk-dropdown":"bottom-left; duration:0"},r.a.createElement("ul",{className:"uk-nav uk-dropdown-nav"},a))},{results:this.state.results}):null)}}]),t}(n.Component),ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).updateLatLonFront=function(e,t){var a=Math.floor(e),n=60*(e-a),r=Math.floor(n),l=60*(n-r),i=Math.sign(a);a*=i;var s=Math.floor(t);n=60*(t-s);var c=Math.floor(n),u=60*(n-c),o=Math.sign(s);return{latitude:e,latDeg:a,latMin:r,latSec:l,latDir:i,longitude:t,lonDeg:s*=o,lonMin:c,lonSec:u,lonDir:o}},a.autofill=function(e){O.a.get("/beaches/"+e+"/info").then(function(e){var t=a.updateLatLonFront(e.data.lat,e.data.lon);a.props.updateCoordState(t,e.data.nroName,e.data.nroDist)}).catch(function(e){console.log(e)})},a.state={showOtherUsage:!1,showOtherReason:!1,showOtherSubstrate:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(G.AccordionItem,{className:"accordion__item"},r.a.createElement(G.AccordionItemTitle,{className:"accordion__title accordion__title--animated"},r.a.createElement("h2",null,"Survey Area",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("div",{className:"accordion__arrow",role:"presentation"})),r.a.createElement(G.AccordionItemBody,{className:"accordion__body"},r.a.createElement("div",null,r.a.createElement("h4",null,"Beach Info")),r.a.createElement("div",{className:"uk-grid uk-child-width-1-3"},r.a.createElement("div",null,r.a.createElement(X,{id:"beachName",autofill:this.autofill,setSurveyData:this.props.setSurveyData})),r.a.createElement("div",null,r.a.createElement("label",null,"Coordinates (Latitude)",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("div",{className:"uk-grid uk-grid-collapse uk-margin uk-child-width-1-4"},r.a.createElement("div",null,r.a.createElement("input",{type:"number",placeholder:"\xb0",id:"latDeg",onChange:this.props.updateSurveyState,defaultValue:this.props.data.latDeg,className:"uk-input uk-margin"})),r.a.createElement("div",null,r.a.createElement("input",{type:"number",placeholder:"'",id:"latMin",onChange:this.props.updateSurveyState,defaultValue:this.props.data.latMin,className:"uk-input uk-margin"})),r.a.createElement("div",null,r.a.createElement("input",{type:"number",placeholder:'"',id:"latSec",onChange:this.props.updateSurveyState,defaultValue:this.props.data.latSec,className:"uk-input uk-margin"})),r.a.createElement("div",null,r.a.createElement("select",{id:"latDir",className:"uk-select uk-margin",onChange:this.props.updateSurveyState,value:this.props.data.latDir},!this.props.data.latDir&&r.a.createElement("option",null),r.a.createElement("option",{value:"1"},"N"),r.a.createElement("option",{value:"-1"},"S"))))),r.a.createElement("div",null,r.a.createElement("label",null,"Coordinates (Longitude):",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("div",{className:"uk-grid uk-grid-collapse uk-margin uk-child-width-1-4"},r.a.createElement("div",null,r.a.createElement("input",{type:"number",placeholder:"\xb0",id:"lonDeg",onChange:this.props.updateSurveyState,defaultValue:this.props.data.lonDeg,className:"uk-input uk-margin"})),r.a.createElement("div",null,r.a.createElement("input",{type:"number",placeholder:"'",id:"lonMin",onChange:this.props.updateSurveyState,defaultValue:this.props.data.lonMin,className:"uk-input uk-margin"})),r.a.createElement("div",null,r.a.createElement("input",{type:"number",placeholder:'"',id:"lonSec",onChange:this.props.updateSurveyState,defaultValue:this.props.data.lonSec,className:"uk-input uk-margin"})),r.a.createElement("div",null,r.a.createElement("select",{id:"lonDir",className:"uk-select uk-margin",onChange:this.props.updateSurveyState,value:this.props.data.lonDir},!this.props.data.lonDir&&r.a.createElement("option",null),r.a.createElement("option",{value:"1"},"E"),r.a.createElement("option",{value:"-1"},"W")))))),r.a.createElement("div",{className:"uk-grid uk-child-width-1-3"},r.a.createElement("div",null,r.a.createElement("label",null,"Major Usage",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",id:"usageRecreation",className:"uk-checkbox",defaultValue:this.props.data.usageRecreation,onChange:this.props.updateCheckedState}))," Recreational"),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",id:"usageCommercial",className:"uk-checkbox",defaultValue:this.props.data.usageCommercial,onChange:this.props.updateCheckedState}))," Commercial"),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",className:"uk-checkbox",onClick:function(t){return e.setState({showOtherUsage:t.target.checked})}}))," Other"),this.state.showOtherUsage&&r.a.createElement("div",null,r.a.createElement("input",{type:"string",id:"usageOther",className:"uk-input",defaultValue:this.props.data.usageOther,onChange:this.props.updateSurveyState}))),r.a.createElement("div",null,r.a.createElement("label",null,"Reason for Location Choice",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",id:"locationChoiceProximity",onChange:this.props.updateCheckedState,defaultValue:this.props.data.locationChoiceDebris,className:"uk-checkbox"}))," Proximity/Convenience"),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",id:"locationChoiceDebris",onClick:this.props.updateCheckedState,defaultValue:this.props.data.locationChoiceProximity,className:"uk-checkbox"}))," Known for Debris"),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",className:"uk-checkbox",onClick:function(t){return e.setState({showOtherReason:t.target.checked})}}))," Other"),this.state.showOtherReason&&r.a.createElement("div",null,r.a.createElement("input",{type:"string",id:"locationChoiceOther",className:"uk-input",defaultValue:this.props.data.locationChoiceOther,onChange:this.props.updateSurveyState}))),r.a.createElement("div",null,r.a.createElement("label",null,"Compass Direction (When Facing the Water)",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("input",{type:"number",placeholder:"Degrees",id:"compassDegrees",defaultValue:this.props.data.compassDegrees,onChange:this.props.updateSurveyState,className:"uk-input uk-margin"}))),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("h4",null,"Nearest River Output")),r.a.createElement("div",{className:"uk-grid uk-child-width-1-2"},r.a.createElement("div",null,r.a.createElement("label",null,"River Name",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("input",{type:"string",placeholder:"Nearest River Output Name",id:"riverName",defaultValue:this.props.data.riverName,onChange:this.props.updateSurveyState,className:"uk-input uk-margin"})),r.a.createElement("div",null,r.a.createElement("label",null,"Approximate Distance (ft)",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("input",{type:"number",placeholder:"Nearest River Output Distance",id:"riverDistance",defaultValue:this.props.data.riverDistance,onChange:this.props.updateSurveyState,className:"uk-input uk-margin"}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"uk-grid uk-child-width-1-2"},r.a.createElement("h4",null,"Last Tide Before Clean Up"),r.a.createElement("h4",null,"Next Tide After Clean Up")),r.a.createElement("div",{className:"uk-grid uk-child-width-1-2"},r.a.createElement("div",null,r.a.createElement("label",null,"Type",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("select",{id:"tideTypeB",className:"uk-select uk-margin",onChange:this.props.updateSurveyState,value:this.props.data.tideTypeB},!this.props.data.tideTypeB&&r.a.createElement("option",null,"Please Select"),r.a.createElement("option",{value:"low"},"Low"),r.a.createElement("option",{value:"high"},"High"))),r.a.createElement("div",null,r.a.createElement("label",null,"Type",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("select",{id:"tideTypeA",className:"uk-select uk-margin",onChange:this.props.updateSurveyState,value:this.props.data.tideTypeA},!this.props.data.tideTypeA&&r.a.createElement("option",null,"Please Select"),r.a.createElement("option",{value:"low"},"Low"),r.a.createElement("option",{value:"high"},"High")))),r.a.createElement("div",{className:"uk-grid uk-child-width-1-4"},r.a.createElement("div",null,r.a.createElement("label",null,"Height (ft)",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("input",{type:"number",placeholder:"Height",id:"tideHeightB",className:"uk-input uk-margin",onChange:this.props.updateSurveyState,defaultValue:this.props.data.tideHeightB})),r.a.createElement("div",null,r.a.createElement("label",null,"Time",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("input",{type:"time",id:"tideTimeB",onChange:this.props.updateSurveyState,defaultValue:this.props.data.tideTimeB,className:"uk-input uk-margin"})),r.a.createElement("div",null,r.a.createElement("label",null,"Height (ft)",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("input",{type:"number",placeholder:"Height",id:"tideHeightA",onChange:this.props.updateSurveyState,defaultValue:this.props.data.tideHeightA,className:"uk-input uk-margin"})),r.a.createElement("div",null,r.a.createElement("label",null,"Time",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("input",{type:"time",id:"tideTimeA",onChange:this.props.updateSurveyState,defaultValue:this.props.data.tideTimeA,className:"uk-input uk-margin"}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"uk-grid uk-child-width-1-3"},r.a.createElement("div",null,r.a.createElement("h4",null,"Wind"),r.a.createElement("label",null,"Speed (knots)",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("input",{type:"number",placeholder:"Speed (knots)",id:"windSpeed",onChange:this.props.updateSurveyState,defaultValue:this.props.data.windSpeed,className:"uk-input uk-margin"}),r.a.createElement("label",null,"Direction",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("select",{id:"windDir",onChange:this.props.updateSurveyState,value:this.props.data.windDir,className:"uk-input uk-margin"},!this.props.data.windDir&&r.a.createElement("option",null,"Please Select"),r.a.createElement("option",{value:"n"},"North"),r.a.createElement("option",{value:"ne"},"Northeast"),r.a.createElement("option",{value:"e"},"East"),r.a.createElement("option",{value:"se"},"Southeast"),r.a.createElement("option",{value:"s"},"South"),r.a.createElement("option",{value:"sw"},"Southwest"),r.a.createElement("option",{value:"w"},"West"),r.a.createElement("option",{value:"nw"},"Northwest"))),r.a.createElement("div",null,r.a.createElement("h4",null,"Slope"),r.a.createElement("label",null,"Slope",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("select",{id:"slope",className:"uk-select uk-margin",onChange:this.props.updateSurveyState,value:this.props.data.slope},!this.props.data.slope&&r.a.createElement("option",null,"Please Select"),r.a.createElement("option",{value:"winter"},"Winter Profile"),r.a.createElement("option",{value:"summer"},"Summer Profile"))),r.a.createElement("div",null,r.a.createElement("h4",null,"Substrate Type",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",id:"substrateTypeSand",onChange:this.props.updateCheckedState,defaultValue:this.props.data.substrateTypeSand,className:"uk-checkbox"}))," Sand"),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",id:"substrateTypePebble",onChange:this.props.updateCheckedState,defaultValue:this.props.data.substrateTypePebble,className:"uk-checkbox"}))," Pebble"),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",id:"substrateTypeRipRap",onChange:this.props.updateCheckedState,defaultValue:this.props.data.substrateTypeRipRap,className:"uk-checkbox"}))," Rip Rap"),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",id:"substrateTypeSeaweed",onChange:this.props.updateCheckedState,defaultValue:this.props.data.substrateTypeSeaweed,className:"uk-checkbox"}))," Seaweed"),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",className:"uk-checkbox",onClick:function(t){return e.setState({showOtherSubstrate:t.target.checked})}}))," Other"),this.state.showOtherSubstrate&&r.a.createElement("div",null,r.a.createElement("input",{type:"string",id:"substrateTypeOther",className:"uk-input",defaultValue:this.props.data.substrateTypeOther,onChange:this.props.updateSurveyState})))),r.a.createElement("div",{className:"uk-padding-large uk-padding-remove-botom uk-width-1-1"},r.a.createElement("div",{className:"uk-text uk-text-small uk-text-center uk-text-muted"},r.a.createElement("span",{className:"uk-text-danger"},"*")," = Indicates required field."))))}}]),t}(n.Component),te=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(G.AccordionItem,{className:"accordion__item",expanded:"true"},r.a.createElement(G.AccordionItemTitle,{className:"accordion__title accordion__title--animated"},r.a.createElement("h2",null,"Team Information",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("div",{className:"accordion__arrow",role:"presentation"})),r.a.createElement(G.AccordionItemBody,{className:"accordion__body"},r.a.createElement("div",{className:"uk-child-width-1-2 uk-grid"},r.a.createElement("div",null,r.a.createElement("label",null,"First Name",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("input",{type:"string",placeholder:"First Name",id:"userFirst",className:"uk-input uk-margin",defaultValue:this.props.data.userFirst,onChange:this.props.updateSurveyState,required:!0})),r.a.createElement("div",null,r.a.createElement("label",null,"Last Name",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("input",{type:"string",placeholder:"Last Name",id:"userLast",className:"uk-input uk-margin",defaultValue:this.props.data.userLast,onChange:this.props.updateSurveyState,required:!0}))),r.a.createElement("div",{className:"uk-child-width-1-2 uk-grid"},r.a.createElement("div",null,r.a.createElement("label",null,"Organization Name",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("input",{type:"string",placeholder:"Organization Name",defaultValue:this.props.data.orgName,onChange:this.props.updateSurveyState,id:"orgName",className:"uk-input uk-margin",required:!0})),r.a.createElement("div",null,r.a.createElement("label",null,"Organization Location (City, Country)",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("input",{type:"string",placeholder:"Organization Location",defaultValue:this.props.data.orgLoc,onChange:this.props.updateSurveyState,id:"orgLoc",className:"uk-input uk-margin",required:!0}))),r.a.createElement("div",{className:"uk-grid uk-child-width-1-2"},r.a.createElement("div",null,r.a.createElement("label",null,"Clean Up Date",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("input",{type:"date",defaultValue:this.props.data.cleanUpDate,onChange:this.props.updateSurveyState,id:"cleanUpDate",className:"uk-input uk-margin",required:!0})),r.a.createElement("div",null,r.a.createElement("label",null,"Clean Up Start Time",r.a.createElement("span",{className:"uk-text-danger"},"*")),r.a.createElement("input",{type:"time",defaultValue:this.props.data.cleanUpTime,onChange:this.props.updateSurveyState,id:"cleanUpTime",className:"uk-input uk-margin",required:!0}))),r.a.createElement("div",{className:"uk-padding-small uk-padding-remove-botom uk-width-1-1"},r.a.createElement("div",{className:"uk-text uk-text-small uk-text-center uk-text-muted"},r.a.createElement("span",{className:"uk-text-danger"},"*")," = Indicates required field."))))}}]),t}(n.Component),ae=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.name),r.a.createElement("td",null,this.props.fresh[0]),r.a.createElement("td",null,this.props.weathered[0]),r.a.createElement("td",null,this.props.fresh[1]),r.a.createElement("td",null,this.props.weathered[1]),r.a.createElement("td",null,this.props.fresh[2]),r.a.createElement("td",null,this.props.weathered[2]),r.a.createElement("td",null,this.props.fresh[3]),r.a.createElement("td",null,this.props.weathered[3]))}}]),t}(n.Component),ne=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.name),r.a.createElement("td",null,this.props.fresh),r.a.createElement("td",null,this.props.weathered))}}]),t}(n.Component),re=W(),le=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.calculateFields()}},{key:"calculateFields",value:function(){}},{key:"render",value:function(){var e=[],t=[],a={};for(var n in this.props.SRSData){var l=n.split("__")[0],i=n.split("__")[1],s=n.split("__")[2]-1;a[l]||(a[l]={fresh:new Array(4),weathered:new Array(4)}),a[l][i][s]=this.props.SRSData[n]}for(var c in a)e.push(r.a.createElement(ae,{id:c,key:c,name:re[c],fresh:a[c].fresh,weathered:a[c].weathered}));for(var u in a={},this.props.ASData){var o=u.split("__")[0],m=u.split("__")[1];a[o]||(a[o]={fresh:0,weathered:0}),a[o][m]=this.props.ASData[u]}for(var d in a)t.push(r.a.createElement(ne,{id:d,key:d,name:re[d],fresh:a[d].fresh,weathered:a[d].weathered}));var h=this.props.data,p=this.props.displayStrings;return r.a.createElement("div",{className:"uk-background-muted uk-padding"},r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body uk-card-hover"},r.a.createElement("h3",{className:"uk-card-title"},"Team Information:"),r.a.createElement("p",null,"Name: ",r.a.createElement("b",null,h.userFirst," ",h.userLast)),r.a.createElement("p",null,"Organization Name: ",r.a.createElement("b",null,h.orgName)),r.a.createElement("p",null,"Organization Location: ",r.a.createElement("b",null,h.orgLoc)),r.a.createElement("p",null,"Email Address: ",r.a.createElement("b",null,this.props.email)),r.a.createElement("p",null,"Clean Up Date: ",r.a.createElement("b",null,h.cleanUpDate)),r.a.createElement("p",null,"Clean Up Start Time: ",r.a.createElement("b",null,h.cleanUpTime))),r.a.createElement("br",null),r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body uk-card-hover"},r.a.createElement("h3",{className:"uk-card-title"},"Survey Area:"),r.a.createElement("p",null,"Beach Name: ",h.beachName),r.a.createElement("p",null,"Beach Coordinates: ",h.latitude," (lat), ",h.longitude," (lon)"),p.usage.length>0&&r.a.createElement("p",null,"Major Usage: ",p.usage),p.locChoice.length>0&&r.a.createElement("p",null,"Reason for Location Choice: ",p.locChoice),h.compassDegrees&&r.a.createElement("p",null,"Compass Direction: ",h.compassDegrees,r.a.createElement("span",null,"\xb0")),h.riverName&&r.a.createElement("p",null,"Nearest River Output Name: ",h.riverName),h.riverDistance&&r.a.createElement("p",null,"Nearest River Output Distance: ",h.riverDistance),h.tideTypeB&&h.tideTimeB&&h.tideHeightB&&r.a.createElement("div",null,r.a.createElement("h4",null,"Tide Before:"),r.a.createElement("p",null,"Type: ",h.tideTypeB," "),r.a.createElement("p",null,"Height: ",h.tideHeightB),r.a.createElement("p",null,"Time: ",h.tideTimeB)),h.tideTypeA&&h.tideTimeA&&h.tideHeightA&&r.a.createElement("div",null,r.a.createElement("h5",null,"Tide After:"),r.a.createElement("p",null,h.tideTypeA," tide of ",h.tideTypeA," ft at",h.tideTimeA)),h.windSpeed&&r.a.createElement("p",null,"Wind Speed: ",h.windSpeed," knots"),h.windDir&&r.a.createElement("p",null,"Wind Direction: ",h.windDir),h.slope&&r.a.createElement("p",null,"Slope: ",h.slope),p.subType.length>0&&r.a.createElement("p",null,"Substrate Type: ",p.subType)),r.a.createElement("br",null),r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body uk-card-hover"},r.a.createElement("h2",null,"Surface Rib Scan"),r.a.createElement("table",{className:"uk-table uk-table-striped uk-table-middle"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Range"),r.a.createElement("th",null,"Rib #1"),r.a.createElement("th",null,"Rib #2"),r.a.createElement("th",null,"Rib #3"),r.a.createElement("th",null,"Rib #4"))),r.a.createElement("tbody",{style:{textAlign:"left"}},r.a.createElement("tr",null,r.a.createElement("td",null,"Rib Start"),r.a.createElement("td",null,h.rib1Start),r.a.createElement("td",null,h.rib2Start),r.a.createElement("td",null,h.rib3Start),r.a.createElement("td",null,h.rib4Start)),r.a.createElement("tr",null,r.a.createElement("td",null,"Rib End"),r.a.createElement("td",null,h.rib1End),r.a.createElement("td",null,h.rib2End),r.a.createElement("td",null,h.rib3End),r.a.createElement("td",null,h.rib4End)))),r.a.createElement("table",{className:"uk-table uk-table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Debris Type"),r.a.createElement("th",null,"Rib #1 Fresh"),r.a.createElement("th",null,"Rib #1 Weathered"),r.a.createElement("th",null,"Rib #2 Fresh"),r.a.createElement("th",null,"Rib #2 Weathered"),r.a.createElement("th",null,"Rib #3 Fresh"),r.a.createElement("th",null,"Rib #3 Weathered"),r.a.createElement("th",null,"Rib #4 Fresh"),r.a.createElement("th",null,"Rib #4 Weathered"))),r.a.createElement("tbody",null,e))),r.a.createElement("br",null),r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body uk-card-hover"},r.a.createElement("h3",{className:"uk-card-title"},"Accumulation Survey:"),r.a.createElement("table",{className:"uk-table uk-table-striped uk-table-middle"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"uk-width-small"},"Debris Type"),r.a.createElement("th",null,"Fresh"),r.a.createElement("th",null,"Weathered"))),r.a.createElement("tbody",{style:{textAlign:"left"}},t))),r.a.createElement("br",null),r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body uk-card-hover"},r.a.createElement("h3",{className:"uk-card-title"},"Micro Debris Survey:")),r.a.createElement("br",null))}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).updateCoordState=function(e,t,n){a.setState(function(a){for(var r in e)a.surveyData[r]=e[r];return a.surveyData.riverName=t,a.surveyData.riverDistance=n,a})},a.setSurveyData=function(e,t){a.setState(function(a){return a.surveyData[e]=t,a})},a.showInputPage=function(){return r.a.createElement("div",null,a.state.invalidForm?a.showAlert():null,r.a.createElement("form",{id:"surveyForm"},r.a.createElement(G.Accordion,null,r.a.createElement(te,{data:a.state.surveyData,updateSurveyState:a.updateSurveyState}),r.a.createElement(ee,{data:a.state.surveyData,setSurveyData:a.setSurveyData,updateSurveyState:a.updateSurveyState,updateCheckedState:a.updateCheckedState,updateCoordState:a.updateCoordState}),r.a.createElement(Q,{data:a.state.surveyData,SRSData:a.state.SRSData,updateSurveyState:a.updateSurveyState,updateSRS:a.updateSRS}),r.a.createElement(K,{data:a.state.ASData,updateAS:a.updateAS}),r.a.createElement(J,{data:a.state.surveyData,updateSurveyState:a.updateSurveyState}))),r.a.createElement("div",{className:"submit-button-container"},r.a.createElement("button",{className:"uk-button uk-button-secondary",onClick:a.moveToReview},"Review")))},a.showReviewPage=function(){return r.a.createElement("div",null,r.a.createElement("button",{className:"uk-button uk-button-secondary",onClick:a.moveToInput},"Back to Input"),r.a.createElement(le,{data:a.state.surveyData,email:a.state.email,SRSData:a.state.SRSData,ASData:a.state.ASData,displayStrings:a.state.displayStrings}),r.a.createElement("button",{className:"uk-button uk-button-disabled",onClick:a.moveToSubmit},"Submit "))},a.showSubmitPage=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Your survey was successfully submitted!"),r.a.createElement("h3",null,"Click ",r.a.createElement(f.a,{to:"/home"}," here")," to view your survey."),r.a.createElement("div",{className:"submit-button-container"},r.a.createElement("button",{className:"uk-button uk-button-secondary",onClick:a.moveToReview},"Back to Review")))},a.url="/surveys",a.auth=a.props.auth,a.state={surveyData:{},SRSData:{},ASData:{},displayStrings:{usage:"",locChoice:"",subType:""},isInputting:!0,isReviewing:!1,isSubmitted:!1,user:"",email:"",userID:"",invalidForm:!1},a.moveToReview=a.moveToReview.bind(Object(w.a)(Object(w.a)(a))),a.moveToInput=a.moveToInput.bind(Object(w.a)(Object(w.a)(a))),a.moveToSubmit=a.moveToSubmit.bind(Object(w.a)(Object(w.a)(a))),a.updateSurveyState=a.updateSurveyState.bind(Object(w.a)(Object(w.a)(a))),a.updateCheckedState=a.updateCheckedState.bind(Object(w.a)(Object(w.a)(a))),a.prepareForm=a.prepareForm.bind(Object(w.a)(Object(w.a)(a))),a.updateSRS=a.updateSRS.bind(Object(w.a)(Object(w.a)(a))),a.updateAS=a.updateAS.bind(Object(w.a)(Object(w.a)(a))),a.showAlert=a.showAlert.bind(Object(w.a)(Object(w.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.auth.isAuthenticated()||(window.alert("Please sign in to continue"),window.location.replace("/")),this.auth.getLoggedInProfile(function(t,a){e.setState({user:a.name,email:a.email,userID:a.sub.split("|")[1]})})}},{key:"updateDisplayStrings",value:function(){var e=this.state.surveyData,t={rec:e.usageRecreation?e.usageRecreation:void 0,com:e.usageCommercial?e.usageCommercial:void 0,other:e.usageOther?e.usageOther:void 0},a={debris:e.locationChoiceDebris?e.locationChoiceDebris:void 0,prox:e.locationChoiceProximity?e.locationChoiceProximity:void 0,other:e.locationChoiceOther?e.locationChoiceOther:void 0},n={s:!!e.substrateTypeSand&&e.substrateTypeSand,p:!!e.substrateTypePebble&&e.substrateTypePebble,rr:!!e.substrateTypeRipRap&&e.substrateTypeRipRap,sea:!!e.substrateTypeSeaweed&&e.substrateTypeSeaweed,other:e.substrateTypeOther?e.substrateTypeOther:void 0};this.setState({displayStrings:{usage:t,locChoice:a,subType:n}})}},{key:"validate",value:function(){for(var e=[],t={userFirst:"First name",userLast:"Last name",orgName:"Organization Name",orgLoc:"Organization Location",cleanUpTime:"Clean Up Time",cleanUpDate:"Clean Up Start Time",beachName:"Name of Beach",latDir:"Latitude Direction",lonDir:"Longitude Direction",latDeg:"Latitude Degrees",lonDeg:"Longitude Degrees",latMin:"Latitude Minutes",lonMin:"Longitude Minutes",latSec:"Latitude Seconds",lonSec:"Longitude Seconds",compassDegrees:"Compass Degrees",riverName:"River Name",riverDistance:"Nearest River Output Distance",usage:"Usage",locChoice:"Reason for Location Choice",subType:"Substrate Type",slope:"Slope",tideHeightA:"Next Tide Height",tideTimeA:"Next Tide Time",tideTypeA:"Next Tide Type",tideHeightB:"Last Tide Height",tideTypeB:"Last Tide Type",tideTimeB:"Last Tide Time",windDir:"Wind Direction",windSpeed:"Wind Speed"},a=["userFirst","userLast","orgName","orgLoc","cleanUpTime","cleanUpDate","beachName","compassDegrees","riverName","riverDistance","slope","tideHeightA","tideHeightB","tideTimeA","tideTimeB","tideTypeA","tideTypeB","windDir","windSpeed","cleanUpTime","cleanUpDate","beachName","riverName","latDeg","latMin","latSec","latDir","lonDeg","lonMin","lonSec","lonDir"],n=0;n<a.length;n++){var r=a[n];void 0===this.state.surveyData[r]&&(e.push(t[r]),console.log(r),document.getElementById(r)&&document.getElementById(r).classList.add("invalidInput"))}return this.state.surveyData.usageRecreation||this.state.surveyData.usageCommercial||this.state.surveyData.usageOther||e.push(t.usage),this.state.surveyData.locationChoiceDebris||this.state.surveyData.locationChoiceProximity||this.state.surveyData.locationChoiceOther||e.push(t.locChoice),this.state.surveyData.substrateTypeSand||this.state.surveyData.substrateTypePebble||this.state.surveyData.substrateTypeRipRap||this.state.surveyData.substrateTypeSeaweed||this.state.surveyData.substrateTypeOther||e.push(t.subType),e}},{key:"navToID",value:function(e){alert("Please fill out the following: "+e)}},{key:"moveToReview",value:function(){var e=this.validate();e&&e.length?this.setState({invalidForm:!0}):(this.updateDisplayStrings(),this.setState({invalidForm:!1,isInputting:!1,isReviewing:!0,isSubmitted:!1}))}},{key:"showAlert",value:function(){return r.a.createElement("div",{className:"uk-alert-danger uk-padding-small"},r.a.createElement("p",null,"Whoops! Looks like you didn't fill out some required fields. Please go back and fill them out."))}},{key:"moveToInput",value:function(){this.setState({isInputting:!0,isReviewing:!1,isSubmitted:!1})}},{key:"moveToSubmit",value:function(){var e=this,t=this.prepareForm();O.a.post("beaches/surveys",t).then(function(t){t.data.survID&&e.setState({isInputting:!1,isReviewing:!1,isSubmitted:!0})}).catch(function(e){console.log(e.response),alert(e.response.data.error.details[0].message)})}},{key:"toTitleCase",value:function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}},{key:"convertToDecimalDegrees",value:function(e,t,a,n){return parseFloat(n)*(parseFloat(e)+parseFloat(t)/60+parseFloat(a)/3600)}},{key:"calcTotalsSRS",value:function(){var e={},t=[],a=this.state.SRSData;for(var n in a){var r=n.replace(/__[1-4]/,""),l=r.replace(/__\w+/,""),i=r.replace(/\w+__/,"");e[l]||(e[l]={fresh:0,weathered:0}),"weathered"===i?(e[l].weathered=e[l].weathered+parseInt(a[n]),isNaN(e[l].weathered)&&(e[l].weathered=0)):(e[l].fresh=e[l].fresh+parseInt(a[n]),isNaN(e[l].fresh)&&(e[l].fresh=0))}for(var s in e)t.push([s,{fresh:e[s].fresh,weathered:e[s].weathered}]),console.log(t);return t}},{key:"calcTotalsAS",value:function(){var e={},t=[],a=this.state.ASData;for(var n in a){var r=n.replace(/__accumulation/i,""),l=r.replace(/__\w+/,""),i=r.replace(/\w+__/,"");e[l]||(e[l]={fresh:0,weathered:0}),"weathered"===i?(e[l].weathered=e[l].weathered+parseInt(a[n]),isNaN(e[l].weathered)&&(e[l].weathered=0)):(e[l].fresh=e[l].fresh+parseInt(a[n]),isNaN(e[l].fresh)&&(e[l].fresh=0))}for(var s in e)t.push([s,{fresh:e[s].fresh,weathered:e[s].weathered}]);return t}},{key:"prepareForm",value:function(){var e=this.state.surveyData,t=this.state.displayStrings;return{survData:{user:{f:e.userFirst?e.userFirst:"",l:e.userLast?e.userLast:""},email:this.state.email,userID:this.state.userID,org:e.orgName?e.orgName:"",reason:t.locChoice?t.locChoice:"No reason",survDate:new Date(e.cleanUpDate+"T"+e.cleanUpTime),st:t.subType?t.subType:"",slope:e.slope?e.slope:"",cmpsDir:e.compassDegrees?e.compassDegrees:100,lastTide:{type:e.tideTypeB?e.tideTypeB:"",time:e.tideTimeB?e.tideTimeB:"",height:e.tideHeightB?e.tideHeightB:""},nextTide:{type:e.tideTypeA?e.tideTypeA:"",time:e.tideTimeA?e.tideTimeA:"",height:e.tideHeightA?e.tideHeightA:""},wind:{dir:e.windDir?e.windDir:"",spd:e.windSpeed?e.windSpeed:""},majorUse:t.usage?t.usage:"",numOfP:0,SRSDebris:this.calcTotalsSRS(),ASDebris:this.calcTotalsAS()},bID:e.beachID?e.beachID:void 0,beachData:e.beachID?void 0:{n:e.beachName.replace(/\s/g,"_"),nroName:e.riverName.replace(/\s/g,"_"),lat:this.convertToDecimalDegrees(e.latDeg,e.latMin,e.latSec,e.latDir),lon:this.convertToDecimalDegrees(e.lonDeg,e.lonMin,e.lonSec,e.lonDir),nroDist:e.riverDistance}}}},{key:"updateSurveyState",value:function(e){var t=e.target.id,a=e.target.value;this.setState(function(e){return e.surveyData[t]=a,e});var n=document.getElementById(t);a&&n.classList.contains("invalidInput")&&n&&n.classList.remove("invalidInput")}},{key:"updateCheckedState",value:function(e){var t=e.target.id,a=e.target.checked;this.setState(function(e){return e.surveyData[t]=a,e})}},{key:"updateSRS",value:function(e){var t=e.target.id,a=e.target.value;this.setState(function(e){return e.SRSData[t]=a,e})}},{key:"updateAS",value:function(e){var t=e.target.id,a=e.target.value;this.setState(function(e){return e.ASData[t]=a,e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"centering-container"},this.state.isInputting&&this.showInputPage()||this.state.isReviewing&&this.showReviewPage()||this.state.isSubmitted&&this.showSubmitPage())}}]),t}(n.Component),se=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={profile:{},data:[]},a.loadCommentsFromServer=a.loadCommentsFromServer.bind(Object(w.a)(Object(w.a)(a))),a.addUserEntries=a.addUserEntries.bind(Object(w.a)(Object(w.a)(a))),a.url="/beaches",a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"loadCommentsFromServer",value:function(){var e=this;O.a.get(this.url).then(function(t){e.setState({data:t.data})})}},{key:"addUserEntries",value:function(e){for(var t=document.getElementById("user-entries"),a="",n=0;n<e.length;n++)for(var r=0;r<e[n].entries.length;r++)a+="<li><a href='/entry/"+e[n].entries[r]._id+"'/>"+e[n].entries[r].date+"</a></li>";t.innerHTML=a}},{key:"componentWillMount",value:function(){var e=this,t=this.props.auth,a=t.userProfile,n=t.getLoggedInProfile;a?this.setState({profile:a}):n(function(t,a){e.setState({profile:a})})}},{key:"componentDidMount",value:function(){this.loadCommentsFromServer()}},{key:"render",value:function(){var e=this.state.profile;return r.a.createElement("div",{className:"uk-card uk-card-default uk-width-1-4 uk-align-center"},r.a.createElement("div",{className:"uk-card-header uk-align-center"},r.a.createElement("img",{className:"uk-border-circle uk-padding-remove uk-align-center",width:"100",height:"100",src:e.picture,alt:""}),r.a.createElement("h2",{className:"uk-card-title uk-padding-remove uk-margin-remove-bottom uk-text-center"},e.name),r.a.createElement("button",{onClick:this.props.auth.logout,className:"uk-align-center uk-padding-remove-top uk-button-small uk-button-primary"},"Log Out")),r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("p",null,"Email: ",r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email))))}}]),t}(n.Component),ce=a(61),ue=a.n(ce);var oe=function(){return r.a.createElement("div",{className:"uk-padding uk-padding-remove-vertical"},r.a.createElement("div",{className:"uk-width-1-1 uk-flex uk-flex-middle"},r.a.createElement("div",{className:"uk-width-3-4 uk-text-bottom uk-flex"},r.a.createElement("h2",{className:"uk-text-bold"},"The COI Beach Cleanup Protocol")),r.a.createElement("div",{className:"uk-width-1-4"},r.a.createElement("img",{src:ue.a,alt:"coi",className:""}))),r.a.createElement("div",null,r.a.createElement("h3",null,"Why Pick Up Beach Trash?"),r.a.createElement("p",null,"Marine debris is one of the top three concerns for ocean health today and is only getting worse because of the rapid rate at which plastic products are made. The impacts of debris in the environment are devastating, but anyone can help reduce the damage by participating in or leading beach cleanups."),r.a.createElement("p",null,"Beyond beach cleanups, marine debris monitoring programs are necessary to compare debris sources, amounts, locations, and movement internationally. This data can be used to influence policy and provide insight into where problem areas are."),r.a.createElement("p",null,"To combine the power of beach cleanups and marine debris monitoring, we have developed a standardized protocols to gather data from beach cleanups and ways to analyze the differences in debris between regions and over time."),r.a.createElement("p",null,"Download and read the Training Field Guide and the field form linked below to get started."),r.a.createElement("a",{href:"pdfs/COIDataSheet_Oct_24.pdf",download:!0},"View Our Data Sheet ")))},me=a(62),de=a.n(me),he=a(63),pe=a.n(he);var ve=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"uk-width-1-1 uk-padding-large uk-padding-remove-bottom uk-flex uk-flex-row"},r.a.createElement("div",{className:"uk-width-1-4"},r.a.createElement("img",{src:de.a,alt:"bottle",className:"uk-padding uk-padding-remove-right"})),r.a.createElement("div",{className:"uk-width-3-4 uk-padding-large uk-padding-remove-vertical"},r.a.createElement("div",{className:"uk-flex uk-flex-column"},r.a.createElement("div",null,r.a.createElement("h2",{className:"uk-text-bold"},"About the Marine Plastic Monitor")),r.a.createElement("div",{className:"uk-flex uk-flex-column"},r.a.createElement("p",null,"Marine debris is one of the top three concerns for ocean health today and is only getting worse because of the rapid rate at which plastic products are made. The impacts of debris in the environment are devastating, but anyone can help reduce the damage by participating in or leading beach cleanups."),r.a.createElement("p",null,"Beyond beach cleanups, marine debris monitoring programs are necessary to compare debris sources, amounts, locations, and movement internationally. This data can be used to influence policy and provide insight into where problem areas are."),r.a.createElement("p",null,"To combine the power of beach cleanups and marine debris monitoring, we have developed a standardized protocols to gather data from beach cleanups and ways to analyze the differences in debris between regions and over time."))))),r.a.createElement("div",{className:"uk-width-1-1 uk-padding-large uk-flex uk-flex-middle"},r.a.createElement("div",{className:"uk-width-1-2 uk-padding uk-text-center"},r.a.createElement("h2",{className:"uk-text-bold"},"About Clean Oceans International")),r.a.createElement("div",{className:"uk-width-1-3 uk-padding"},r.a.createElement("img",{src:pe.a,alt:"coi"}))),r.a.createElement("div",{className:"uk-width-1-1 uk-padding uk-padding-remove-vertical uk-flex"},r.a.createElement("div",{className:"uk-width-1-2 uk-padding uk-padding-remove-vertical"},r.a.createElement("p",null,"Clean Oceans International (COI) is a Santa Cruz, California based 501c3 non-profit. Our mission is to develop practical solutions to plastic pollution through innovation, education, and direct action."),r.a.createElement("p",null,"Our agenda is organized in phases to provide educated volunteers."),r.a.createElement("p",null,"COI\u2019s first phase works with student volunteers conducting simple research of plastic pollution deposition, generating useful information with minimal financial outlay and creating awareness of plastic pollution through community networking."),r.a.createElement("p",null,"The second facet is independent testing of Plastic to Fuel (PTF) technology to convert plastic waste into diesel fuel using safe, clean electrical heat. This technology still has unanswered questions so testing is conducted through academic institutions in collaboration with the manufacturer, waste management infrastructure, area business and agricultural industry."),r.a.createElement("p",null,"These trials will also produce financial guidelines for profitable deployment of this emerging technology internationally.")),r.a.createElement("div",{className:"uk-width-1-2 uk-padding uk-padding-remove-vertical"},r.a.createElement("p",null,"Scalable infrastructure to profitably convert plastic into liquid fuel generates localized financial motivation to manage plastic waste as a valuable resource rather than a nuisance. Just as cash deposits have almost eliminated can and bottle debris, value for plastic scrap incentivizes plastic collection and recycling."),r.a.createElement("p",null,"COI\u2019s third facet is direct action, where we apply what we have learned to solve a specific problem. Our expeditions page discusses our trips to Alaska and Hawaii and the British Virgin Islands."),r.a.createElement("p",null,"In 2013-16 COI staff and volunteers collected debris and talked trash in Hawaii, Alaska, Brazil, British Virgin Islands, Oregon and California."),r.a.createElement("p",null,"These tests and trials are an important prelude to deploying a vessel to collect and process floating plastic in site. In time that will become a practical extension of this research and we will have the resources to do that effectively and efficiently."))))},Ee=a(37),be=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={BasicCleanUp:"0",SurfaceRibScan:"0",AccumulationSurvey:"0"},a.handleFormUpdate=a.handleFormUpdate.bind(Object(w.a)(Object(w.a)(a))),a.setLocalStorage=a.setLocalStorage.bind(Object(w.a)(Object(w.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleFormUpdate",value:function(e){e.target.checked?this.setState(Object(Ee.a)({},e.target.id,"1")):this.setState(Object(Ee.a)({},e.target.id,"0"))}},{key:"setLocalStorage",value:function(){localStorage.setItem("BasicCleanUp",this.state.BasicCleanUp),localStorage.setItem("SurfaceRibScan",this.state.SurfaceRibScan),localStorage.setItem("AccumulationSurvey",this.state.AccumulationSurvey)}},{key:"render",value:function(){return r.a.createElement("div",{className:"uk-margin"},r.a.createElement("h3",{className:"uk-text-center"},"Choose which type of clean up surveys you have performed"),r.a.createElement("ul",{className:"uk-list uk-list-large uk-list-divider uk-text-center"},r.a.createElement("li",null,r.a.createElement("input",{className:"uk-checkbox uk-margin-right",id:"BasicCleanUp",type:"checkbox",onChange:this.handleFormUpdate}),r.a.createElement("label",null,"Basic Cleanup")),r.a.createElement("li",null,r.a.createElement("input",{className:"uk-checkbox uk-margin-right",id:"SurfaceRibScan",type:"checkbox",onChange:this.handleFormUpdate}),r.a.createElement("label",null,"Surface Rib Scan")),r.a.createElement("li",null,r.a.createElement("input",{className:"uk-checkbox uk-margin-right",id:"AccumulationSurvey",type:"checkbox",onChange:this.handleFormUpdate}),r.a.createElement("label",null,"Accumulation Survey"))),r.a.createElement(f.a,{className:"uk-button uk-button-primary uk-align-center uk-width-1-3",onClick:this.setLocalStorage,to:"./survey"},"Enter Survey"))}}]),t}(n.Component);B.c.addAdapter(F.Chart);var ge=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).changeBarGraph=function(e){a.setState({showSRSData:"srs"===e.target.value})},a.state={showSRSData:!0,srsBarData:L(a.props.chartData,!0),asBarData:L(a.props.chartData,!1)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.chartData;this.setState({srsBarData:L(t,!0),asBarData:L(t,!1)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"uk-width-3-4"},r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},r.a.createElement("h3",{className:"uk-card-title"},"Number of Pieces of Debris Collected"),r.a.createElement("select",{className:"uk-select uk-form-large",id:"bar-type",onChange:this.changeBarGraph},r.a.createElement("option",{value:"srs"},"in Surface Rib Scan Surveys"),r.a.createElement("option",{value:"as"},"in Accumulation Sweep Surveys")),r.a.createElement("div",{className:"uk-align-center",style:{width:"45vw"}},r.a.createElement(B.a,{data:this.state.showSRSData?this.state.srsBarData:this.state.asBarData,library:{animation:{animateScale:!0}}}))))}}]),t}(n.Component),ke=function(e){var t=e.chartData;return r.a.createElement("div",{className:"uk-grid-margin uk-width-1-1"},r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},r.a.createElement("h3",{className:"uk-card-title"},"Debris Totals By Percent"),r.a.createElement("p",null,"Hover over segments to see percentages"),r.a.createElement(B.b,{id:"pieChart",data:t,legend:"right",library:{animation:{animateRotate:!0},responsive:!0},height:"370px",width:"450px"})))},ye=(a(156),W()),fe=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).getStats=function(){O.a.get("/beaches/".concat(a.state.beachData._id)).then(function(e){a.setState({surveyIDs:e.data})}).then(function(){for(var e=[],t=[],n=0;n<a.state.surveyIDs.length;n++)e.push(O.a.get("/beaches/surveys/".concat(a.state.surveyIDs[n].survey)));O.a.all(e).then(function(e){e.map(function(e){t.push(e.data.survData),console.log(e.data)})}).then(function(){return a.setState({surveys:t})})}),O.a.get("/beaches/".concat(a.state.beachData._id,"/stats")).then(function(e){var t=e.data.typesOfDebrisFound,n=0,r={};for(var l in t)n+=t[l];for(var i in t){t[i]/=n;var s=ye[i];"Fishing Line / Polypropylene Rope"===s&&(s="Fishing Line"),"Plastic Bottles / Plastic Caps"===s&&(s="Plastic Bottles"),r[s]=Math.round(100*t[i])}a.setState({beachStats:r})})};var n=a.props.location.state.data,r=a.props.location.state.userProfile;return a.state={beachData:n,pieChartData:{},surveys:null,userProfile:r},a.getLatLon=a.getLatLon.bind(Object(w.a)(Object(w.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getLatLon",value:function(){var e=this;O.a.get("/beaches/".concat(this.state.beachData._id,"/coords")).then(function(t){var a=e.state.beachData;a.lon=t.data.lon,a.lat=t.data.lat,e.setState({beachData:a})})}},{key:"componentDidMount",value:function(){this.getStats(),this.state.beachData.lat||this.state.beachData.lon||this.getLatLon()}},{key:"render",value:function(){var e=this.state.beachData,t=e.lat,a=e.lon,n=e.name;console.log(this.state.surveys);var l,i=[];for(var s in this.state.surveys){var c=this.state.surveys[s];l=new Date(c.survDate),i.push(r.a.createElement("li",{key:c._id},r.a.createElement(f.a,{className:"uk-link-muted",to:{pathname:"/surveys/".concat(c._id.replace(" ","-")),state:{beachName:this.state.beachData.n,surveyID:c._id,info:this.state.beachData,userProfile:this.state.userProfile}}},l.toLocaleDateString())))}var u=function(e,t){var a=!1;return t&&e<91&&e>-91?a=!0:!t&&e<181&&e>-181&&(a=!0),a};return r.a.createElement("div",{className:"uk-container"},r.a.createElement("h1",{className:"uk-text-primary uk-heading-primary"},this.state.beachData.n),r.a.createElement("div",{className:"uk-grid uk-grid-match"},r.a.createElement(ge,{chartData:this.state.surveys}),r.a.createElement("div",{className:"uk-width-1-4"},r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},r.a.createElement("h3",{className:"uk-card-title"},"Survey Entries"),r.a.createElement("ul",null,i))),r.a.createElement("div",{className:"uk-grid-margin uk-width-1-3"},t&&a&&u(t,!0)&&u(a,!1)?r.a.createElement("div",{style:{height:"550px",width:"500px"},className:"uk-card uk-card-default uk-card-body"},r.a.createElement(x.a,{defaultCenter:{lat:t,lng:a},defaultZoom:13,bootstrapURLKeys:{key:["AIzaSyC0KMFMCzYY0TZKQSSGyJ7gDW6dfBIDIDA"]}},r.a.createElement(function(e){var t=e.name;return r.a.createElement("div",{className:"custom-marker"},r.a.createElement("p",null,t))},{lat:t,lng:a,name:n}))):null),r.a.createElement("div",{className:"uk-grid-margin uk-width-2-3"},r.a.createElement(ke,{chartData:this.state.beachStats}))))}}]),t}(n.Component);a(157);var Se=function(){return r.a.createElement("div",{className:"center-parent"},r.a.createElement("div",{className:"text-container uk-position-center"},r.a.createElement("h1",null,r.a.createElement("span",{className:"error-text"},"404"),": Page Not Found!"),r.a.createElement("h3",null,"Thinking outside the box is great, but not when it involves website urls..."),r.a.createElement("h3",null,"...click ",r.a.createElement(f.a,{to:"/home"},"here")," to go back home.")))},Ne=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"uk-navbar uk-navbar-container uk-navbar-transparent uk-margin-bottom-small uk-dropdown-nav "},r.a.createElement("div",{className:"uk-navbar-left"},r.a.createElement("ul",{className:"nav__submenu uk-nav uk-dropdown-nav "},r.a.createElement("li",{className:"nav__submenu-item "},r.a.createElement(f.a,{to:"/home"},"Home")),this.props.auth.isAuthenticated()?r.a.createElement("li",{className:"nav__submenu-item "},r.a.createElement(f.a,{to:"/survey"},"Add Survey")):null,r.a.createElement("li",{className:"nav__submenu-item "},r.a.createElement(f.a,{to:"/protocol"},"Protocol")),r.a.createElement("li",{className:"nav__submenu-item "},r.a.createElement(f.a,{to:"/about"},"About")),this.props.auth.isAuthenticated()?r.a.createElement("li",{className:"nav__submenu-item "},r.a.createElement(f.a,{to:"/profile"},"Profile")):null)))}}]),t}(n.Component),De=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).handleHover=function(){a.setState({showAboutMenu:!0})},a.handleLeave=function(){a.setState({showAboutMenu:!1})},a.state={showAboutMenu:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"uk-padding-small uk-padding-remove-top"},r.a.createElement("nav",{className:"uk-navbar uk-navbar-container uk-navbar-transparent uk-margin-bottom-small"},r.a.createElement("div",{className:"uk-navbar-left uk-visible@m"},r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",{className:"uk-logo"},r.a.createElement(f.a,{to:"/home"},r.a.createElement("h1",{className:"uk-text-large uk-margin-remove-bottom"},"Marine Plastics Monitor"))),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/home"},"Home")),this.props.auth.isAuthenticated()?r.a.createElement("li",null,r.a.createElement(f.a,{to:"/survey"},"Add Survey")):null,r.a.createElement("li",null,r.a.createElement(f.a,{to:"/protocol"},"Protocol")),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/about"},"About")))),r.a.createElement("div",{className:"uk-navbar-right uk-visible@m"},r.a.createElement("ul",{className:"uk-navbar-nav"},this.props.auth.isAuthenticated()?r.a.createElement("li",null,r.a.createElement(f.a,{to:"/profile"},"Profile")):r.a.createElement("li",null,r.a.createElement("button",{onClick:this.props.auth.login,className:"uk-button uk-button-text"},"Sign Up")))),r.a.createElement("div",{className:"uk-hidden@m"},r.a.createElement("div",{className:"uk-navbar-left"},r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",{className:"uk-logo"},r.a.createElement(f.a,{to:"/home"},r.a.createElement("h1",{className:"uk-text-small uk-margin-remove-bottom"},"Marine Plastics Monitor"))),r.a.createElement("li",{className:"nav__menu-item uk-margin-remove-bottom",onMouseLeave:this.handleLeave},r.a.createElement("div",{className:"uk-navbar-item",style:{textTransform:"uppercase",color:"#999"},onMouseEnter:this.handleHover},"Menu"),this.state.showAboutMenu&&r.a.createElement(Ne,{auth:this.props.auth})))))))}}]),t}(n.Component);var we=function(){return r.a.createElement("div",{className:"uk-grid uk-padding-large uk-margin-medium-top"},r.a.createElement("a",{className:"uk-width-expand uk-text-center uk-text-muted",href:"https://cleanoceansinternational.org/"},"Clean Oceans International"))},Ce=(a(158),function(e){function t(){var e;return Object(s.a)(this,t),a(159).config(),(e=Object(u.a)(this,Object(o.a)(t).call(this))).auth=new y,e.state={error:""},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.auth.handleAuthentication(function(t){e.setState({error:t})}),this.auth.isAuthenticated()?this.auth.getLoggedInProfile(function(t,a){e.setState({userProfile:a})}):this.setState({userProfile:null})}},{key:"render",value:function(){var e=this,t=["/home","/survey","/newsurvey","/location/:beachID","/:beachName/:surveyID","/profile","/protocol","/about","/map","/chooseform"];return r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement("div",{className:"uk-container-expand uk-container-center"},r.a.createElement(h.a,{path:t,render:function(){return r.a.createElement(De,{auth:e.auth})}}),r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(D,{auth:e.auth,isAuth:e.state.error,disableError:function(){e.setState({error:null})}})}}),r.a.createElement(h.a,{exact:!0,path:"/home",render:function(){return r.a.createElement(P,{userProfile:e.state.userProfile})}}),r.a.createElement(h.a,{path:"/survey",render:function(){return r.a.createElement(ie,{auth:e.auth})}}),r.a.createElement(h.a,{path:"/location/:beachID",component:fe}),r.a.createElement(h.a,{path:"/:beachName/:surveyID",component:q}),r.a.createElement(h.a,{path:"/profile",render:function(){return e.auth.isAuthenticated()?r.a.createElement(se,{auth:e.auth}):r.a.createElement(v.a,{to:"/"})}}),r.a.createElement(h.a,{exact:!0,path:"/protocol",component:oe}),r.a.createElement(h.a,{exact:!0,path:"/about",component:ve}),r.a.createElement(h.a,{path:"/map",render:function(){return r.a.createElement(I,{userProfile:e.state.userProfile})}}),r.a.createElement(h.a,{exact:!0,path:"/about",component:ve}),r.a.createElement(h.a,{path:"/chooseform",component:be}),r.a.createElement(h.a,{component:Se}))),r.a.createElement(h.a,{path:t,component:we}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},24:function(e,t,a){},60:function(e,t,a){e.exports=a.p+"static/media/beach-edit.bd7f0104.jpg"},61:function(e,t,a){e.exports=a.p+"static/media/COI.558ece49.png"},62:function(e,t,a){e.exports=a.p+"static/media/bottle.6c41c024.jpg"},63:function(e,t,a){e.exports=a.p+"static/media/COI.98692b64.png"},64:function(e,t,a){e.exports=a(162)},71:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.33311c1c.chunk.js.map